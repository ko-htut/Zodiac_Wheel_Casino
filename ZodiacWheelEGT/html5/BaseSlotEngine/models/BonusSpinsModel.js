function BonusSpinsModel(){this.lines=this.denomination=this.betOption=-1;this.remainingBonusSpins=0;this._lineIndex=this._denomIndex=this._betIndex=-1;this._currentBonusSpin=this._totalBonusSpins=0;this._gameSettings=GameSettings.getInstance();this._pendingWinAmount=this._totalWinAmount=0;this.statusCode="ok";this.hasBonusGameEnded=this.isBonusGameStarted=!1;this.betIndex=function(){-1==this._betIndex&&(this._betIndex=this._gameSettings.betValues.indexOf(this.betOption));return this._betIndex};this.lineIndex=
function(){if(-1==this._lineIndex)for(var a=this._gameSettings.lineGame?this._gameSettings.linesCountConfig:this._gameSettings.comboCoeficients,b=0;b<a.length;b++)if(a[b]==this.lines){this._lineIndex=b;break}return this._lineIndex};this.denomIndex=function(){if(-1==this._denomIndex)for(var a=this._gameSettings.denominations.length,b=0;b<a;b++)if(this._gameSettings.denominations[b][0]==this.denomination){this._denomIndex=b;break}return this._denomIndex};this.increaseCurrentBonusSpin=function(){this.hasMoreBonusSpinsToPlay()&&
!this._gameSettings.freespinGame&&this._currentBonusSpin++};this.calculateTotalBonusSpins=function(){this._totalBonusSpins=this._currentBonusSpin+this.remainingBonusSpins};this.setRemainingBonusSpins=function(a){this.remainingBonusSpins=a;this.calculateTotalBonusSpins()};this.setBonusSpins=function(a){null!=a&&(this.betOption=a.betOption,this.denomination=a.denomination,this.lines=a.lines,this.remainingBonusSpins=a.remainingBonusSpins,this.calculateTotalBonusSpins())};this.currentBonusSpin=function(){return this._currentBonusSpin};
this.totalBonusSpins=function(){return this._totalBonusSpins};this.hasMoreBonusSpinsToPlay=function(){return 0<this.remainingBonusSpins};this.resetTotalWinAmount=function(){this._pendingWinAmount=this._totalWinAmount=0};this.totalWinAmount=function(){return this._totalWinAmount};this.pendingWinAmount=function(a){this._pendingWinAmount=a};this.addPendingWinAmount=function(){this._totalWinAmount+=this._pendingWinAmount;this._pendingWinAmount=0}};
