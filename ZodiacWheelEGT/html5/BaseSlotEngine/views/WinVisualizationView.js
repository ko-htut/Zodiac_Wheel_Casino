View("WinVisualizationView",{CYCLE_COMPLETE:"cycleComplete"},function(){function e(){0!=this._numberOfUniqueCards&&(this._prevLineCard=-1,this._comboColorIndex=this._config.comboColors.length-this._numberOfUniqueCards-1)}function b(){if((this._showingLines?this._config.lines[this._lineIndex].winAmount:this._config.scatters[this._lineIndex].winAmount)&&!this._lostConnection)if(this._lineLabel.visible(!0),this._showingLines)if(this._config.lineGame)this._config.currency?this._lineLabel.setText(this._config.lineText+
" "+(this._config.lines[this._lineIndex].line+1)+" - "+Utils.formatNumber(this._config.lines[this._lineIndex].winAmount,100,!0,this._config.noCoins)+"  "+this._config.currencyType):this._lineLabel.setText(this._config.lineText+" "+(this._config.lines[this._lineIndex].line+1)+" - "+Utils.formatNumber(this._config.lines[this._lineIndex].winAmount,this._config.denomination));else{var a;a=this._config.currency?this._config.lines[this._lineIndex].count.toString()+" x "+Utils.formatNumber(this._config.lines[this._lineIndex].winPerCount,
100,!0,this._config.noCoins)+" "+this._config.currencyType+" = "+Utils.formatNumber(this._config.lines[this._lineIndex].winAmount,100,!0,this._config.noCoins)+" "+this._config.currencyType:this._config.lines[this._lineIndex].count.toString()+" x "+Utils.formatNumber(this._config.lines[this._lineIndex].winPerCount,this._config.denomination)+" = "+Utils.formatNumber(this._config.lines[this._lineIndex].winAmount,this._config.denomination);1<this._config.lines[this._lineIndex].count?this._lineLabel.setText("Combos "+
a):this._lineLabel.setText("Combo "+a)}else this._config.currency?this._lineLabel.setText("Scatter - "+Utils.formatNumber(this._config.scatters[this._lineIndex].winAmount,100,!0,this._config.noCoins)+" "+this._config.currencyType):this._lineLabel.setText("Scatter - "+Utils.formatNumber(this._config.scatters[this._lineIndex].winAmount,this._config.denomination));else this._lineLabel.visible(!1)}function f(){this._multiplierX2.visible(!this._multiplierX2.visible());var a=this;this._timerForX2Blink=
setTimeout(function(){f.call(a)},500)}function g(){this._showingLines?this._config.lineGame?this._linesView.drawLine(this._config.lines[this._lineIndex].cells,this._config.lines[this._lineIndex].line):(this._prevLineCard!=this._config.lines[this._lineIndex].card&&(this._prevLineCard=this._config.lines[this._lineIndex].card,this._comboColorIndex++),this._linesView.drawCells(this._config.lines[this._lineIndex].cells,this._config.comboColors[this._comboColorIndex])):this._linesView.drawCells(this._config.scatters[this._lineIndex].cells)}
function h(){this._lineIndex++;var a=!1;this._showingLines&&this._lineIndex==this._config.lines.length?(this._config.scatters.length&&(this._showingLines=!1),e.call(this),a=!0,this._numberOfBlinks=3,this._lineIndex=0):this._showingLines||this._lineIndex!=this._config.scatters.length||(this._config.lines.length?this._showingLines=!0:(a=!0,this._numberOfBlinks=3),this._lineIndex=0);g.call(this);this._linesView.startBlinking(this._numberOfBlinks,300);b.call(this);a&&this.dispatchEvent(new Event(WinVisualizationView.CYCLE_COMPLETE))}
return{init:function(a){this._config=a;this._linesView;this._showingLines;this._lineIndex;this._numberOfBlinks;this._timerForX2Blink;this._visibleX2;this._multiplierImages=this._config.multiplierImages;this._multiplierX2;this._lineLabel;this._lostConnection=!1;this._prevLineCard=-1;this._numberOfUniqueCards=0;this._comboColorIndex=-1;this._super("");this._linesView=new LinesView(this._config.linesViewConfig);this._linesView.addEventListener(LinesView.BLINKING_COMPLETE,h,this);this._lineLabel=new TextView("textField infoLine",
"",400,619);this._lineLabel.setZIndex(121);if(!this._config.lineGame){if(null!=this._config.lines&&0!=this._config.lines.length){a=[];for(var c=this._config.lines.length,d=0;d<c;d++){var b=this._config.lines[d].card;-1==a.indexOf(b)&&a.push(b)}this._numberOfUniqueCards=a.length}e.call(this)}this.addChildren(this._linesView,this._lineLabel)},start:function(a){if(this._config.lines.length||this._config.scatters.length){var c=GameSettings.getInstance();this._showingLines=this._config.scatters.length?
!1:!0;this._lineIndex=0;this._numberOfBlinks=a?3:1;g.call(this);void 0!=this._config.lines[this._lineIndex]&&1<this._config.lines[this._lineIndex].multiplier&&void 0!=this._multiplierImages&&(a=this._config.lines[this._lineIndex].multiplier,this._multiplierImages.hasOwnProperty(a)&&(this._multiplierX2=new View("xImage "+this._multiplierImages[a]),this.addChild(this._multiplierX2),this._multiplierX2.visible(!0),c=c.multiplierImagesCenteredOnReels?(this._config.linesViewConfig.reelWidth*this._config.linesViewConfig.numReels+
this._config.linesViewConfig.reelSpacing*this._config.linesViewConfig.numReels-1)/2-this._multiplierX2.getWidth()/2+this._linesView.x():(this._config.linesViewConfig.reelWidth*a+this._config.linesViewConfig.reelSpacing*a-1)/2-this._multiplierX2.getWidth()/2+this._linesView.x(),a=this._config.linesViewConfig.reelHeight/2-this._multiplierX2.getHeight()/2+this._linesView.y(),this._multiplierX2.setPosition(c,a),this._multiplierX2.setZIndex(5),f.call(this)));this._linesView.startBlinking(this._numberOfBlinks,
300);b.call(this)}},stopBlinkX2:function(){this._multiplierX2&&(clearTimeout(this._timerForX2Blink),this._multiplierX2.visible(!1))},onLostConnection:function(){this._lineLabel.visible(!1);this._lostConnection=!0},dispose:function(){this._linesView.dispose();null!=this._multiplierX2&&(this._multiplierX2.dispose(),this._multiplierX2=null);this._linesView.removeEventListener(LinesView.BLINKING_COMPLETE,h,this);this._lineLabel.dispose();this._super()}}}());
